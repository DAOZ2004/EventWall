{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Perfil - EventWall</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="icon" href="{% static 'img/EventWall.jpg' %}" type="image/x-icon">
</head>
<body>

<header class="header">
    <div class="header-inner">
        <div class="header-row">
            <div class="brand">
                <div class="brand-logo"></div>
                <div>
                    <div class="brand-title">EventWall</div>
                    <div style="font-size:0.75rem; opacity:.8;">Gestión de eventos</div>
                </div>
            </div>
            <nav class="nav">
                {% if user.is_authenticated %}
                    <a href="{% url 'home' %}">Inicio</a>
                    <a href="{% url 'perfil' %}">Mi perfil</a>
                    <a href="{% url 'logout' %}">Cerrar sesión</a>
                {% else %}
                    <a href="{% url 'login' %}">Iniciar sesión</a>
                    <a href="{% url 'registro' %}">Registrarse</a>
                {% endif %}
            </nav>
        </div>
    </div>
</header>

<main>
    <div class="main-container">
        <section class="card-panel">
            <div class="page-header">
                <div>
                    <h2 class="page-title">Mi perfil</h2>
                    <p class="page-subtitle">Información asociada a tu cuenta.</p>
                </div>
            </div>

            <div class="form-wrapper">
                <div class="form-card" style="max-width: 480px;">
                    <div style="display:flex; align-items:center; gap:1rem; margin-bottom:1.5rem;">
                        {% if profile.foto %}
                            <img src="{{ profile.foto.url }}" alt="Foto de perfil" style="width:80px; height:80px; border-radius:999px; object-fit:cover;">
                        {% else %}
                            <div style="width:80px; height:80px; border-radius:999px; background:rgba(15,23,42,0.15); display:flex; align-items:center; justify-content:center; font-size:2rem; font-weight:600; color:#ffffff;">
                                {{ profile.user.username|first|upper }}
                            </div>
                        {% endif %}

                        <div>
                            <h3 style="margin:0; font-size:1.25rem;">{{ profile.user.username }}</h3>
                            <p style="margin:0; font-size:0.9rem; color:#52606d;">Usuario de EventWall</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <span class="form-label">Correo</span>
                        <p style="margin:0.25rem 0 0; color:#111827;">
                            {{ profile.user.email|default:"Sin correo definido" }}
                        </p>
                    </div>

                    <div class="form-group" style="margin-top:1rem;">
                        <span class="form-label">Teléfono</span>
                        <p style="margin:0.25rem 0 0; color:#111827;">
                            {{ profile.telefono|default:"Sin teléfono registrado" }}
                        </p>
                    </div>

                    <div class="form-group" style="margin-top:1rem;">
                        <span class="form-label">Biografía</span>
                        <p style="margin:0.25rem 0 0; color:#111827; white-space:pre-line;">
                            {{ profile.bio|default:"Aún no has añadido una biografía." }}
                        </p>
                    </div>

                    <div style="margin-top:1.5rem;">
                        <a href="{% url 'home' %}" class="btn-secondary">Volver al inicio</a>
                    </div>
                </div>
            </div>

        </section>
    </div>
</main>

</body>
</html>
